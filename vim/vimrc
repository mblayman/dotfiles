call plug#begin('~/.vim/plugged')

" Fix Python autoindent after <CR> following parentheses.
Plug 'hynek/vim-python-pep8-indent'

" Fast file searching.
Plug 'kien/ctrlp.vim'

" Catch common weasel words like 'easy' when writing prose in Markdown.
Plug 'nicholaides/words-to-avoid.vim'

" Search in Vim.
Plug 'rking/ag.vim'

" Syntax highlighting and style checking.
Plug 'Syntastic'

" Comment stuff out quickly.
Plug 'tpope/vim-commentary'

" Surround text with tags and quotes.
Plug 'tpope/vim-surround'

" On-demand loading
"Plug 'scrooloose/nerdtree', { 'on':  'NERDTreeToggle' }
"Plug 'tpope/vim-fireplace', { 'for': 'clojure' }

" Plugin options
"Plug 'nsf/gocode', { 'tag': 'v.20150303', 'rtp': 'vim' }

call plug#end()

" Make CtrlP ignore files in the .gitignore.
let g:ctrlp_user_command = ['.git/', 'git --git-dir=%s/.git ls-files -oc --exclude-standard']

let g:syntastic_python_checkers = ['flake8']
let g:syntastic_python_flake8_args = "--max-line-length=105"

let g:syntastic_javascript_checkers = ['jshint', 'jscs']
let g:syntastic_aggregate_errors = 1

let g:markdown_fenced_languages = ['python']

syntax on
filetype plugin indent on
set expandtab
set ts=4 sw=4 sts=4
set list listchars=tab:>-,trail:-
au BufRead,BufNewFile *.md set filetype=markdown
au BufRead,BufNewFile *.hbs set filetype=html
set title
let &colorcolumn=81
highlight ColorColumn term=standout ctermbg=7
set backspace=2 " Make backspace work in a sane manner.
autocmd FileType javascript,html,htmldjango setlocal ts=2 sw=2 sts=2 expandtab
set number
set relativenumber
set scrolloff=10

" Apply vimrc changes immediately.
autocmd BufWritePost vimrc source $MYVIMRC

" Assume HTML files are Django templates for simplicity.
autocmd BufNewFile,BufRead *.html set filetype=htmldjango

" Use a different comment style for Django's HTML templates.
autocmd FileType htmldjango set commentstring={#\ %s\ #}

" Leader commands
let mapleader = "\<Space>"

" Quick search
nnoremap <Leader>a :Ag 

" Launch CtrlP
nnoremap <Leader>c :CtrlP<CR>

" Quick save
nnoremap <Leader>w :w<CR>

" Escape is so far away.
imap <C-l> <Esc>

" Navigate up and down between splits.
nnoremap <Leader>j <C-w>j
nnoremap <Leader>k <C-w>k
